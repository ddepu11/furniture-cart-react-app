{"version":3,"sources":["ch.jpg","reducer.js","context.js","Components/Items.jsx","Components/Summary.jsx","App.js","index.js"],"names":["reducer","state","action","cart","payload","type","loading","filter","item","howMany","reduce","accumulator","currentItem","price","toPay","orderTotal","noOfItems","AppContext","createContext","initialState","AppProvider","children","useReducer","dispatch","fetchCart","a","fetch","res","json","ok","console","log","useEffect","Provider","value","increaseHowMany","id","newCart","map","decreaseHowMany","removeCartItem","clearAll","useGlobalContext","useContext","Items","className","length","title","imgSrc","src","alt","onClick","Summary","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.248361c4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ch.05524d83.jpg\";","const reducer = (state, action) => {\r\n  const cart = action.payload;\r\n\r\n  switch (action.type) {\r\n    case \"SET_CART\":\r\n      return {\r\n        ...state,\r\n        cart,\r\n        loading: false,\r\n      };\r\n      break;\r\n    case \"INC_COUNT\":\r\n      return {\r\n        ...state,\r\n        cart,\r\n        loading: false,\r\n      };\r\n      break;\r\n\r\n    case \"DEC_COUNT\":\r\n      return {\r\n        ...state,\r\n        cart: cart.filter((item) => {\r\n          if (item.howMany === 0) {\r\n            // If returns false then remove that item\r\n            return false;\r\n          } else {\r\n            return true;\r\n          }\r\n        }),\r\n\r\n        loading: false,\r\n      };\r\n      break;\r\n    case \"REMOVE_CART_ITEM\":\r\n      return {\r\n        ...state,\r\n        cart,\r\n        loading: false,\r\n      };\r\n      break;\r\n    case \"COUNT_ITEMS\":\r\n      const { noOfItems, orderTotal } = state.cart.reduce(\r\n        (accumulator, currentItem) => {\r\n          const { price, howMany } = currentItem;\r\n          const toPay = howMany * price;\r\n\r\n          accumulator.orderTotal = accumulator.orderTotal + toPay;\r\n          accumulator.noOfItems = accumulator.noOfItems + howMany;\r\n          return accumulator;\r\n        },\r\n        { noOfItems: 0, orderTotal: 0 }\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        noOfItems,\r\n        orderTotal,\r\n      };\r\n      break;\r\n    case \"CLEAR_ALL\":\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n      };\r\n      break;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport reducer from \"./reducer\";\r\n\r\nconst AppContext = createContext();\r\n\r\nconst initialState = {\r\n  cart: [],\r\n  loading: true,\r\n  noOfItems: 0,\r\n  orderTotal: 0,\r\n};\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // Fething cart Data from API Furniture Cart API\r\n  // API is deployed in Heroku\r\n  const fetchCart = async () => {\r\n    try {\r\n      const res = await fetch(\r\n        \"https://furniture-cart-react-app.herokuapp.com/\"\r\n      );\r\n      const { ok, cart } = await res.json();\r\n\r\n      dispatch({ type: \"SET_CART\", payload: cart });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeCartItem = (id) => {\r\n    // If returns false then remove that item\r\n    const newCart = state.cart.filter((item) => item.id !== id);\r\n    dispatch({ type: \"REMOVE_CART_ITEM\", payload: newCart });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"COUNT_ITEMS\" });\r\n  }, [state.cart]);\r\n\r\n  const increaseHowMany = (id) => {\r\n    const newCart = state.cart.map((item) => {\r\n      if (item.id === id) {\r\n        item.howMany++;\r\n        return item;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    dispatch({ type: \"INC_COUNT\", payload: newCart });\r\n  };\r\n  const decreaseHowMany = (id) => {\r\n    let newCart = state.cart.map((item) => {\r\n      if (item.id === id) {\r\n        if (item.howMany !== 0) {\r\n          item.howMany--;\r\n        }\r\n        return item;\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n\r\n    dispatch({ type: \"DEC_COUNT\", payload: newCart });\r\n  };\r\n\r\n  // Clear Cart\r\n  const clearAll = () => {\r\n    dispatch({ type: \"CLEAR_ALL\" });\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        cart: state.cart,\r\n        loading: state.loading,\r\n        increaseHowMany,\r\n        decreaseHowMany,\r\n        removeCartItem,\r\n        noOfItems: state.noOfItems,\r\n        orderTotal: state.orderTotal,\r\n        clearAll,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppProvider, useGlobalContext };\r\n","import { FaPlus, FaMinus } from \"react-icons/fa\";\r\nimport { ImBin } from \"react-icons/im\";\r\nimport ch from \"../ch.jpg\";\r\nimport { useGlobalContext } from \"../context\";\r\n\r\nconst Items = () => {\r\n  const {\r\n    cart,\r\n    loading,\r\n    increaseHowMany,\r\n    decreaseHowMany,\r\n    removeCartItem,\r\n  } = useGlobalContext();\r\n  return (\r\n    <aside className=\"items\">\r\n      {loading ? (\r\n        <h1>Loading...</h1>\r\n      ) : cart.length === 0 ? (\r\n        <div className=\"msg\">\r\n          <h2>Your Cart is Empty!</h2>\r\n          <p>Please Refresh the page!</p>\r\n        </div>\r\n      ) : (\r\n        cart.map((item) => {\r\n          const { id, title, imgSrc, price, howMany } = item;\r\n          return (\r\n            <div key={id} className=\"item flex\">\r\n              <img src={imgSrc} alt={title} />\r\n              <h6>{title}</h6>\r\n\r\n              <div className=\"buttons-div flex\">\r\n                <FaMinus\r\n                  className=\"minus pointer\"\r\n                  onClick={() => decreaseHowMany(id)}\r\n                />\r\n\r\n                <span>{howMany}</span>\r\n\r\n                <FaPlus\r\n                  className=\"plus pointer\"\r\n                  onClick={() => increaseHowMany(id)}\r\n                />\r\n              </div>\r\n              <span>&#8377;{price}</span>\r\n              <ImBin\r\n                className=\"bin pointer\"\r\n                onClick={() => removeCartItem(id)}\r\n              />\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Items;\r\n","import { useGlobalContext } from \"../context\";\r\n\r\nconst Summary = () => {\r\n  const { loading, orderTotal } = useGlobalContext();\r\n  const shipCh = 200;\r\n  return (\r\n    <section className=\"summary\">\r\n      {loading ? (\r\n        <h1>Loading...</h1>\r\n      ) : (\r\n        <>\r\n          <h4>Summary</h4>\r\n          <div className=\"details\">\r\n            <div className=\"order-total flex\">\r\n              <p>Order total</p>\r\n              <span>&#8377;{orderTotal}</span>\r\n            </div>\r\n            <div className=\"shiping flex\">\r\n              <p>Shipping</p>\r\n              <span>&#8377;{orderTotal === 0 ? `0` : shipCh}</span>\r\n            </div>\r\n\r\n            <div className=\"subtotal flex\">\r\n              <p>Subtotal</p>\r\n              <span>&#8377;{orderTotal === 0 ? `0` : orderTotal + shipCh}</span>\r\n            </div>\r\n            <button>Checkout Items</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n","import \"./App.css\";\nimport Items from \"./Components/Items\";\nimport Summary from \"./Components/Summary\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport { useGlobalContext } from \"./context\";\n\nfunction App() {\n  const { noOfItems, loading, clearAll, cart } = useGlobalContext();\n\n  return (\n    <div className=\"container grid\">\n      <header className=\"header flex\">\n        <h3>\n          Home/<span>Cart</span>\n        </h3>\n\n        <div className=\"h-right flex\">\n          <FaShoppingCart className=\"s-cart\" />\n          <span>{noOfItems}</span>\n        </div>\n      </header>\n\n      <Items />\n\n      <Summary />\n\n      <footer className=\"footer flex\">\n        {loading == false &&\n          (cart.length === 0 ? (\n            \"\"\n          ) : (\n            <button onClick={clearAll}>Clear All</button>\n          ))}\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context\";\n\nReactDOM.render(\n  <AppProvider>\n    <App />\n  </AppProvider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}