(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{15:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c(7),a=c.n(n),s=(c(15),c(4)),o=c(9),i=(c.p,c(6)),l=c.n(i),j=c(8),d=c(10),u=c(3),O=function(e,t){var c=t.payload;switch(t.type){case"SET_CART":case"INC_COUNT":return Object(u.a)(Object(u.a)({},e),{},{cart:c,loading:!1});case"DEC_COUNT":return Object(u.a)(Object(u.a)({},e),{},{cart:c.filter((function(e){return 0!==e.howMany})),loading:!1});case"REMOVE_CART_ITEM":return Object(u.a)(Object(u.a)({},e),{},{cart:c,loading:!1});case"COUNT_ITEMS":var r=e.cart.reduce((function(e,t){var c=t.price,r=t.howMany,n=r*c;return e.orderTotal=e.orderTotal+n,e.noOfItems=e.noOfItems+r,e}),{noOfItems:0,orderTotal:0}),n=r.noOfItems,a=r.orderTotal;return Object(u.a)(Object(u.a)({},e),{},{noOfItems:n,orderTotal:a})}},b=c(1),h=Object(r.createContext)(),p={cart:[],loading:!0,noOfItems:0,orderTotal:0},f=function(e){var t=e.children,c=Object(r.useReducer)(O,p),n=Object(d.a)(c,2),a=n[0],s=n[1],o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://furniture-cart-react-app.herokuapp.com/");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,c.ok,r=c.cart,s({type:"SET_CART",payload:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){o()}),[]),Object(r.useEffect)((function(){s({type:"COUNT_ITEMS"})}),[a.cart]);return Object(b.jsx)(h.Provider,{value:{cart:a.cart,loading:a.loading,increaseHowMany:function(e){var t=a.cart.map((function(t){return t.id===e?(t.howMany++,t):t}));s({type:"INC_COUNT",payload:t})},decreaseHowMany:function(e){var t=a.cart.map((function(t){return t.id===e?(0!==t.howMany&&t.howMany--,t):t}));s({type:"DEC_COUNT",payload:t})},removeCartItem:function(e){var t=a.cart.filter((function(t){return t.id!==e}));s({type:"REMOVE_CART_ITEM",payload:t})},noOfItems:a.noOfItems,orderTotal:a.orderTotal},children:t})},x=function(){return Object(r.useContext)(h)},m=function(){var e=x(),t=e.cart,c=e.loading,r=e.increaseHowMany,n=e.decreaseHowMany,a=e.removeCartItem;return Object(b.jsx)("aside",{className:"items",children:c?Object(b.jsx)("h1",{children:"Loading..."}):t.map((function(e){var t=e.id,c=e.title,i=e.imgSrc,l=e.price,j=e.howMany;return Object(b.jsxs)("div",{className:"item flex",children:[Object(b.jsx)("img",{src:i,alt:c}),Object(b.jsx)("h6",{children:c}),Object(b.jsxs)("div",{className:"buttons-div flex",children:[Object(b.jsx)(s.a,{className:"minus pointer",onClick:function(){return n(t)}}),Object(b.jsx)("span",{children:j}),Object(b.jsx)(s.b,{className:"plus pointer",onClick:function(){return r(t)}})]}),Object(b.jsxs)("span",{children:["\u20b9",l]}),Object(b.jsx)(o.a,{className:"bin pointer",onClick:function(){return a(t)}})]},t)}))})},v=function(){var e=x(),t=e.loading,c=e.orderTotal;return Object(b.jsx)("section",{className:"summary",children:t?Object(b.jsx)("h1",{children:"Loading..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{children:"Summary"}),Object(b.jsxs)("div",{className:"details",children:[Object(b.jsxs)("div",{className:"order-total flex",children:[Object(b.jsx)("p",{children:"Order total"}),Object(b.jsxs)("span",{children:["\u20b9",c]})]}),Object(b.jsxs)("div",{className:"shiping flex",children:[Object(b.jsx)("p",{children:"Shipping"}),Object(b.jsx)("span",{children:"$210"})]}),Object(b.jsxs)("div",{className:"subtotal flex",children:[Object(b.jsx)("p",{children:"Subtotal"}),Object(b.jsxs)("span",{children:["\u20b9",c+210]})]}),Object(b.jsx)("button",{children:"Checkout Items"})]})]})})};var y=function(){var e=x().noOfItems;return Object(b.jsxs)("div",{className:"container grid",children:[Object(b.jsxs)("header",{className:"header flex",children:[Object(b.jsxs)("h3",{children:["Home/",Object(b.jsx)("span",{children:"Cart"})]}),Object(b.jsxs)("div",{className:"h-right flex",children:[Object(b.jsx)(s.c,{className:"s-cart"}),Object(b.jsx)("span",{children:e})]})]}),Object(b.jsx)(m,{}),Object(b.jsx)(v,{}),Object(b.jsx)("footer",{className:"footer"})]})};a.a.render(Object(b.jsx)(f,{children:Object(b.jsx)(y,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.926a3264.chunk.js.map